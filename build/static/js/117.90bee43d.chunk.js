"use strict";(self.webpackChunkreact_complete_guide=self.webpackChunkreact_complete_guide||[]).push([[117],{237:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var s=n(683),c=n(791),r=n(880),o=n(523),a=n(152),d=n(995),m=n(853),i=n(556),l="Comments_comments__9cxIN",u="CommentItem_item__+vwzS",x=n(184),h=function(e){return(0,x.jsx)("li",{className:u,children:(0,x.jsx)("p",{children:e.text})})},j="CommentsList_comments__UVWAR",f=function(e){return(0,x.jsx)("ul",{className:j,children:e.comments.map((function(e){return(0,x.jsx)(h,{text:e.text},e.id)}))})},_="NewCommentForm_form__C3cQf",N="NewCommentForm_control__iR6jS",p="NewCommentForm_actions__NC323",v=function(e){var t=(0,c.useRef)(),n=(0,d.Z)(m.Ir),s=n.sendRequest,r=n.status,o=n.error,a=e.onAddedComment,l=e.quoteId;(0,c.useEffect)((function(){"completed"!==r||o||a()}),[r,o,a]);var u=function(e){e.preventDefault();var n=t.current.value;s({commentData:{text:n},quoteId:l})};return(0,x.jsxs)("form",{className:_,onSubmit:u,children:["pending"===r&&(0,x.jsx)("div",{className:"centered",children:(0,x.jsx)(i.Z,{})}),(0,x.jsxs)("div",{className:N,onSubmit:u,children:[(0,x.jsx)("label",{htmlFor:"comment",children:"Your Comment"}),(0,x.jsx)("textarea",{id:"comment",rows:"5",ref:t})]}),(0,x.jsx)("div",{className:p,children:(0,x.jsx)("button",{className:"btn",children:"Add Comment"})})]})},C=function(){var e=(0,c.useState)(!1),t=(0,a.Z)(e,2),n=t[0],s=t[1],o=(0,r.UO)().quoteId,u=(0,d.Z)(m.h_),h=u.sendRequest,j=u.status,_=u.data;(0,c.useEffect)((function(){h(o)}),[h,o]);var N,p=(0,c.useCallback)((function(){h(o)}),[h,o]);return"pending"===j&&(N=(0,x.jsx)("div",{className:"centered",children:(0,x.jsx)(i.Z,{})})),"completed"===j&&_&&_.length>0&&(N=(0,x.jsx)(f,{comments:_})),"completed"!==j||_&&0!==_.length||(N=(0,x.jsx)("p",{className:"centered",children:"No comments were added yet."})),(0,x.jsxs)("section",{className:l,children:[(0,x.jsx)("h2",{children:"User Comments"}),!n&&(0,x.jsx)("button",{className:"btn",onClick:function(){s(!0)},children:"Add a Comment"}),n&&(0,x.jsx)(v,{quoteId:o,onAddedComment:p}),N]})},g="HighlightedQuote_quote__dE8qA",q=function(e){return(0,x.jsxs)("figure",{className:g,children:[(0,x.jsx)("p",{children:e.esp}),(0,x.jsx)("figcaption",{children:e.eng})]})};var b=function(){var e=(0,r.$B)(),t=(0,r.UO)();console.log(t.quoteId);var n=(0,d.Z)(m.jR,!0),a=n.sendRequest,l=n.status,u=n.data,h=n.error;return(0,c.useEffect)((function(){a(t.quoteId)}),[a,t.quoteId]),"pending"===l?(0,x.jsx)("div",{className:"centered",children:(0,x.jsx)(i.Z,{})}):h?(0,x.jsx)("div",{className:"centered",children:h}):u.esp?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(q,(0,s.Z)({},u)),(0,x.jsx)(r.AW,{path:e.path,exact:!0,children:(0,x.jsx)("div",{className:"centered",children:(0,x.jsx)(o.rU,{className:"btn--flat",to:"".concat(e.url,"/comments"),children:"Load Comments"})})}),(0,x.jsx)(r.AW,{path:"".concat(e.path,"/comments"),children:(0,x.jsx)(C,{})})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h2",{children:"No quote found."}),(0,x.jsx)(o.rU,{className:"btn",to:"/quotes",children:"Return"})]})}}}]);
//# sourceMappingURL=117.90bee43d.chunk.js.map